<?xml version="1.0" ?>
<openerp>
	<data>
	    
	    <!-- Actions Mouvements Internes -->
		<record id="action_openstock_view_fournitures" model="ir.actions.act_window">
			<field name="name">Ressources</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">product.product</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('openstc_reservable','=',True)]</field>
		</record>

		<record id="action_openstock_view_reservation" model="ir.actions.act_window">
			<field name="name">Réservations</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain" eval="False"/>
		</record>

		<!-- <record id="action_openstock_view_reservation_confirmed" model="ir.actions.act_window">
			<field name="name">Réservations Confirmées</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('state','=','confirm')]</field>
		</record>

		<record id="action_openstock_view_reservation_cancel" model="ir.actions.act_window">
			<field name="name">Réservations Annulées</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('state','=','cancle')]</field>
		</record>

		<record id="action_openstock_view_reservation_a_remplir" model="ir.actions.act_window">
			<field name="name">Réservations en Brouillon</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('state','=','remplir'),('in_option','in',('no','in_option'))]</field>
		</record>

		<record id="action_openstock_view_reservation_a_revalider" model="ir.actions.act_window">
			<field name="name">Réservations Bloquées</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('state','=','remplir'),('in_option','=','block')]</field>
		</record>


		<record id="action_openstock_view_reservation_done" model="ir.actions.act_window">
			<field name="name">Réservations Terminées</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('state','=','done')]</field>
		</record>

		<record id="action_openstock_view_reservation_in_use" model="ir.actions.act_window">
			<field name="name">Réservations en cours d'utilisation</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('state','=','in_use')]</field>
		</record>
		-->
		<record id="action_openstock_view_reservation_new" model="ir.actions.act_window">
			<field name="name">Créer une nouvelle réservation</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
		</record>
	    
		<record id="action_openstock_view_reservation_calendar" model="ir.actions.act_window">
			<field name="name">Planning des Réservations</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">calendar,tree,form</field>
			<field name="domain">[('state','not in',('done','cancle','remplir'))]</field>
		</record>
		
		<record id="action_openstc_pret_voir_emprunts_ext" model="ir.actions.act_window">
			<field name="name">Emprunts aux mairies extérieures encore à retourner</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">purchase.order</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<!-- <field name="domain">[('state','in',('approved',)),('amount_total','=',0.0),('order_line','&lt;&gt;',None)]</field>-->
			<field name="domain">[('is_emprunt','=',True)]</field>
		</record>
		
	<!-- Menus Mouvements Internes -->
		<menuitem icon="terp-project" id="base.menu_main_openstock" 
		    name="Prêt - Location" sequence="10" />

		<menuitem id="menu_action_view_reservations" name="Gestion des Réservations"
			parent="base.menu_main_openstock" sequence="2" />

		<menuitem id="menu_action_view_articles" name="Gestion des Ressources"
			parent="base.menu_main_openstock" sequence="1" />

		<!-- MenuItems Gestion des Ressources -->
		<menuitem id="menu_action_view_fournitures" action="action_openstock_view_fournitures"
			name="Catalogue des ressources" parent="menu_action_view_articles"
			sequence="1" />

		<menuitem id="menu_action_view_emprunt_ext" name="Emprunter des Ressources à l'extérieur"
			action="action_view_openstc_pret_emprunt_wizard" parent="menu_action_view_articles"
			sequence="2" />

		<menuitem id="menu_action_openstc_pret_view_checkout"
			action="action_openstc_pret_view_checkout" name="Voir Etats des lieux retour d'articles"
			parent="menu_action_view_articles" sequence="4" />
		
		<menuitem id="menu_action_openstc_pret_voir_emprunts_ext"
			action="action_openstc_pret_voir_emprunts_ext" name="Nos Emprunts externes à retourner"
			parent="menu_action_view_articles" sequence="3" />
		
		<!-- MenuItems Gestion des Réservations -->
		<menuitem id="menu_action_openstc_pret_resa_semaine_view"
			action="action_openstc_pret_resa_semaine_view" name="Réservation de la semaine a traiter"
			parent="menu_action_view_reservations" sequence="1" />
		
		<menuitem id="menu_action_openstock_view_reservation" action="action_openstock_view_reservation"
			name="Réservations" parent="menu_action_view_reservations"
			sequence="2" />
		
		<menuitem id="menu_action_openstock_view_reservation_calendar"
			action="action_openstock_view_reservation_calendar"
			parent="menu_action_view_reservations" sequence="3" />
		
		<menuitem id="menu_action_openstock_view_reservation_new"
			action="action_openstock_view_reservation_new" name="Créer une nouvelle réservation"
			parent="menu_action_view_reservations" sequence="4" />
		
<!--
		<menuitem id="menu_action_openstock_view_reservation_a_revalider"
			action="action_openstock_view_reservation_a_revalider" name="Réservations A re-vérifier"
			parent="menu_action_view_reservations" sequence="4" />
			
		<menuitem id="menu_action_openstock_view_reservation_a_remplir"
			action="action_openstock_view_reservation_a_remplir" name="Réservations en Brouillon"
			parent="menu_action_view_reservations" sequence="3" />
		
		<menuitem id="menu_action_openstock_view_reservation_confirmed"
			action="action_openstock_view_reservation_confirmed" name="Réservations Confirmées"
			parent="menu_action_view_reservations" sequence="6" />

		<menuitem id="menu_action_openstock_view_reservation_in_use"
			action="action_openstock_view_reservation_in_use" name="Réservations En cours d'utilisation"
			parent="menu_action_view_reservations" sequence="7" />

		<menuitem id="menu_action_openstock_view_reservation_done"
			action="action_openstock_view_reservation_done" name="Réservations Terminées"
			parent="menu_action_view_reservations" sequence="8" />

		<menuitem id="menu_action_openstock_view_reservation_cancel"
			action="action_openstock_view_reservation_cancel" name="Réservations Annulées"
			parent="menu_action_view_reservations" sequence="9" /> -->

		<!-- Groupe Factice pour cacher les menus aux utilisateurs (sauf l'admin) -->
		<record id="group_view_all_menus" model="res.groups">
			<field name="name">Voir tous les menus</field>
		</record>

		<menuitem id="hotel.hotel_management_menu" name="Hotel Management"
			groups="group_view_all_menus" />
		
		<record id="account.menu_finance" model="ir.ui.menu">
		    <field name="groups_id" eval="[(6,0,[ref('group_view_all_menus')])]"/>
		</record>
		<record id="base.menu_base_partner" model="ir.ui.menu">
		    <field name="groups_id" eval="[(6,0,[ref('group_view_all_menus')])]"/>
		</record>
		<record id="stock.menu_stock_root" model="ir.ui.menu">
		    <field name="groups_id" eval="[(6,0,[ref('group_view_all_menus')])]"/>
		</record>
		<record id="base.menu_purchase_root" model="ir.ui.menu">
		    <field name="groups_id" eval="[(6,0,[ref('group_view_all_menus')])]"/>
		</record>
	</data>
</openerp>