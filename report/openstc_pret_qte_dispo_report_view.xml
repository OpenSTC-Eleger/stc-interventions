<?xml version="1.0" encoding="UTF-8"?>
<!--
    OpenSTC Interventions - Openerp Module to manage Cityhall technical department
    Copyright (C) 2013 Siclic www.siclic.fr

    This file is part of OpenSTC Interventions.

    OpenSTC Interventions is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    OpenSTC Interventions is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with OpenSTC Interventions.  If not, see <http://www.gnu.org/licenses/>.
-->
<openerp>
	<data>

		<record model="ir.ui.view" id="view_openstock_qte_dispo_form">
			<field name="name">openstock.qte.dispo.report.form</field>
			<field name="model">openstock.qte.dispo.report</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<field name="qte_dispo" />
				<field name="jour_dispo" />
				<field name="prod_dispo" />
			</field>
		</record>

		<record model="ir.ui.view" id="view_openstock_qte_dispo_tree">
			<field name="name">openstock.qte.dispo.report.tree</field>
			<field name="model">openstock.qte.dispo.report</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<field name="qte_dispo" />
				<field name="jour_dispo" />
				<field name="prod_dispo" />
			</field>
		</record>


		<record model="ir.ui.view" id="view_openstock_qte_dispo_graph">
			<field name="name">openstock.qte.dispo.report.graph</field>
			<field name="model">openstock.qte.dispo.report</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Verif Dispo" orientation="horizontal" type="bar">
					<field name="jour_dispo" />
					<field name="qte_dispo" />
				</graph>
			</field>
		</record>

		<record model="ir.ui.view" id="view_openstock_qte_dispo_graph">
			<field name="name">openstock.qte.dispo.report.graph</field>
			<field name="model">openstock.qte.dispo.report</field>
			<field name="type">graph</field>
			<field name="arch" type="xml">
				<graph string="Verif Dispo" orientation="horizontal" type="bar">
					<field name="jour_dispo" />
					<field name="qte_dispo" />
				</graph>
			</field>
		</record>

		<record model="ir.ui.view" id="view_openstock_qte_dispo_calendar">
			<field name="name">openstock.qte.dispo.report.reserve.calendar</field>
			<field name="model">openstock.qte.dispo.reserve.report</field>
			<field name="type">calendar</field>
			<field name="arch" type="xml">
				<calendar string="Verif Dispo" date_start="checkin"
					date_stop="checkout" color="product" mode="week">
					<field name="qte" domain="[('product','in',product_ids)]" />
					<field name="reservation_no" />
				</calendar>
			</field>
		</record>

		<record id="action_openstock_qte_dispo_graph" model="ir.actions.act_window">
			<field name="name">Verif Dispo</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">openstock.qte.dispo.report</field>
			<field name="view_type">form</field>
			<field name="view_mode">graph,tree</field>
			<field name="view_id" ref="view_openstock_qte_dispo_graph" />
			<field name="target">current</field>
			<field name="context">{'product_ids':active_ids}</field>
		</record>

		<record id="action_openstock_qte_dispo_calendar" model="ir.actions.act_window">
			<field name="name">Verif Dispo</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">hotel.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">calendar,tree,form</field>
			<field name="target">current</field>
			<field name="domain">[('reservation_line.reserve_product','in',active_ids)]</field>
		</record>

		<record id="action_openstock_qte_dispo_graph_create" model="ir.values">
			<field name="name">Vérif Dispo</field>
			<field name="key2">client_action_multi</field>
			<field eval="1" name="object" />
			<field name="value"
				eval="'ir.actions.act_window,' + str(ref('action_openstock_qte_dispo_calendar'))" />
			<field name="key">action</field>
			<field name="model">product.product</field>
		</record>

		<record id="action_openstock_qte_dispo_graph2" model="ir.actions.act_window">
			<field name="name">Test Vérif Dispo</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">openstock.qte.dispo.report</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree</field>
		</record>

	</data>
</openerp>